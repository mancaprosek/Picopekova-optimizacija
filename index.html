
<!DOCTYPE html>
<html>
  <head>
    <title>Picopekova optimizacija</title>
    <meta charset="utf-8">
    <style>
      @import url(https://fonts.googleapis.com/css?family=Yanone+Kaffeesatz);
      @import url(https://fonts.googleapis.com/css?family=Droid+Serif:400,700,400italic);
      @import url(https://fonts.googleapis.com/css?family=Ubuntu+Mono:400,700,400italic);

      body { font-family: 'Droid Serif'; }
      h1, h2, h3 {
        font-family: 'Yanone Kaffeesatz';
        font-weight: normal;
      }
      .remark-code, .remark-inline-code { font-family: 'Ubuntu Mono'; }
      .remark-slide-content { background-size: contain; }
    </style>
  </head>
  <body>
    <textarea id="source">

layout: true
background-image: url(background.jpg)
background-position: center
background-repeat: no-repeat
<br>
<br>
<br>

---

class: center, middle

# Picopekova optimizacija

---

# Linearno programiranje

<br>

Linearno programiranje ali optimizacija je iskanje maksimuma ali minimuma
dane funkcije na dovoljenem območju. Uporablja se za predstavitev najrazličnejših
situacij odločanja, v današnji nalogi pa bomo iskali najboljšo kombinacijo 
proizvodov, ki jih proizvaja podjetje.

---

# Slovar izrazov

* **Optimizacija**: maksimiziranje ali minimiziranje funkcije ob upoštevanju omejitev
* **Namenska ali ciljna funkcija**: funkcija, ki jo je treba maksimizirati ali minimizirati
* **Izbirne spremenljivke**: spremenljivke, katerih vrednost je treba določiti tako, da bo namenska funkcija maksimizirana ali minimizirana
* **Parametri**: spremenljivke, katerih vrednost je dana oziroma določena pri iskanju optimalne rešitve določenega problema
* **Množica omejitev**: množica vrednosti, pri katerih izbirne spremenljivke izpolnjujejo vse omejitve problema

---

# Naš primer

Imamo picerijo, ki pripravlja mini pice in pice calzone. Za izdelavo vsake od njih potrebujejo
dva različna prispevka: delovni čas priprave pice in čas peke. 

Na voljo je omejena količina delovnega časa, ki ga označimo z $C_1$, in omejena količina časa peke, označena z $C_2$.
Predpostavimo, da so sestavine mini pic in pice calzone enake. Prodajajo pa se po različnih
cenah, in sicer mini pice po $P_1 = 5$€ in pica calzone po $P_2 = 7$€.

**Vprašanje:** Kakšna je optimalna kombinacija mini pic in pic calzone ($X_1$ in $X_2$), ki jih mora proizvajati picerija?

---
# Namenska funkcija

Namenska funkcija je funkcija izbirnih spremenljivk, ki jih želimo maksimizirati. Pri
problemu linearnega programiranja je namenska funkcija linearna glede na izbirne spremenljivke.

V našem primeru namenska funkcija računa prihodek picerije. Pri tem sta izbirni spremenljivki
število mini pic in število calzone pic ($X_1$ in $X_2$). Namensko funkcijo prihodka picerije
torej zapišemo kot:

> $R(X_1, X_2) = P_1 X_1 + P_2 X_2$.

---
# Naloga 1

Poustvarite preglednico, ki je na sliki. Polja obarvana z rumeno barvo so vnaprej podane
vrednosti, polja obarvana z oranžno pa so tista, ki jih je potrebno izračunati. V tem primeru
računamo prihodek picerije, če mini pice stanejo 5€ in jih prodamo 10, calzone pa stanejo 7€ in
jih prodamo 15.

<img src="slika1.png" alt="Slika1" width=600>

Namig: Izraz v celici G4 lahko izračunate s funkcijo *SUMPRODUCT*.

---
# Nivojnice namenske funkcije

Nivojnico namenske funkcije dobimo, če funkcijo enačimo s konstanto. Torej 
so nivojnice namenske funkcije krivulje, na katerih je vrednost funkcije enaka.

Naj bo $k$ poljubna konstanta. Potem so nivojnice prihodkov picerije podane z
enačbo $R(X_1, X_2) = P_1 X_1 + P_2 X_2 = k$.

---
## Naloga 2

Spremenite preglednico, ki ste jo pripravili v prejšnjem koraku, in vanjo
vključite dve vrednosti za $k$ (izberemo si vrednosti $k_1 = 10$ in $k_2 = 20$)
ter vrednosti za $X_1$ od 0 do 10 (v stolpcu B). V polja C12 do C22 vnesite
tako formulo, da bo izračunala vrednost $X_2$ na nivojnici $k_1$,
v poljih D12 do D22 pa naj enaka formula izračuna vrednost $X_2$
na nivojnici $k_2$.

<img src="slika2.png" alt="Slika2" width=500>

---
## Naloga 3
Naredite graf nivojnic iz prejšnjega koraka z uporabo korelacijskega diagrama XY.
(Če spreminjamo vrednost konstante, se nivojnica premakne.)
<img src="Picture3.png" alt="Slika3" width=500>

---
S spreminjanjem parametrov namenske funkcije se spreminja naklon nivojnic.

V našem primeru sta parametra namenske funkcije ceni pic. Levi graf prikazuje
nivojnici za konstanti $k_1=10$ in $k_2=20$ s cenami $P_1=5$ in $P_2=7$.
Desni graf prikazuje nivojnici za isti konstanti, vendar z obrnjenimi cenami.

<img src="Picture4.png" alt="Slika4" width=300><img src="Picture5.png" alt="Slika5" width=322>

---
# Množica dopustnih rešitev

Množica dopustnih rešitev je množica možnih vrednosti za $X_1$ in $X_2$, 
ki jih predstavimo z enačbami in neenačbami. 

V naši piceriji sta za vsako od pic potrebna delovni čas in čas peke. Predpostavimo,
da je za calzone potrebnega manj delovnega časa kot za mini pice (ker morajo biti
mini pice umetniško predstavljene), vendar je za calzone potrebnega več časa peke
kot za mini pice (ker so debelejše). Recimo, da je za izdelavo vsake calzone
pice potrebnih 6 minut delovnega časa, za izdelavo vsake mini pice pa 10 minut.
Predpostavimo, da ima picerija v 8 urni izmeni zaposlenega le enega delavca,
tako da je na voljo 480 minut delovnega časa. Skupno število proizvedenih
mini pic $X_1$ in calzonov $X_2$ mora zadostiti naslednji linearni neenakosti:
$10X_1 + 6X_2 \le 480$.

Ta izraz je v obliki $a\_{11} X\_1 + a\_{12} X\_2 \le C\_1$, kjer so
$a\_{11}$, $a\_{12}$ in $C\_1$ konstante (parametri).

---
Recimo, da je čas peke vsake mini pice 4 minute, čas peke vsake calzone
pice pa 6 minut. Predpostavimo, da je pečica na voljo skupaj 400 minut
v 8 urni izmeni (ker potrebuje 80 minut čiščenja na izmeno). Poleg tega
morata biti število mini pic $X_1$ in število calzone $X_2$ nenegativna.
Nenegativnost števila pic nam da omejitve: $X_1 \ge 0$ in $X_2 \ge 0$.

<br>

### Opomba
Zapis z indeksom je nameren. Pri reševanju problema linearnega programiranja
kot iskanja optimalnega števila proizvodnje dveh dobrin je $a\_{11}$ število
vira 1, ki se uporabi za proizvodnjo vsakega kosa blaga 1, $a\_{12}$ pa je
število vira 1, ki se uporabi za proizvodnjo vsakega kosa blaga 2. $C\_1$
je skupna količina razpoložljivega vira 1.

---
# Naloga 4

Zapišite linearno neenakost, ki predstavlja omejitev časa pečenja pic.
Neenakost zapišite v obliki $a\_{21} X\_1 + a\_{22} X\_2 \le C\_2$, kjer $C\_2$
predstavlja celoten čas, ko je pečica na voljo, $a\_{21}$ čas peke mini
pice in $a\_{22}$ čas peke calzone pice.

---
# Naloga 5

Spremenite preglednico iz naloge 2, da bo videti kot je prikazano na sliki.
V polji B17 in B18 vnesite logične stavke, ki bodo vrnili "izvedljivo",
če sta neenakosti za čas priprave in čas peke pic izpoljneni za vrednosti 
$X_1$ in $X_2$ iz polj B9 in C9, sicer pa naj vrnejo "neizvedljivo".
Pri tem upoštevajte omejitve nenegativnosti.

<img src="slika6.png" alt="Slika6" width=500>

---
# Naloga 6

Spremenite preglednico iz naloge 6, da bo videti tako kot na sliki.
Za izbrano
vrednost $X_1$ (podano v polju B) izračunajte maksimalno možno vrednost $X_2$
glede na omejitveno neenakost. V poljih C upoštevajte neenakost za čas
priprave, v poljih D pa neenakost za čas peke pice.

<img src="slika7.png" alt="Slika7" width=500>

---
# Naloga 7
Za vsako omejitev neenakosti (čas priprave pic, čas peke in nenegativnostne omejitve)
narišite graf enačbe tj. znak $\le$ nadomestite z znakom $=$. Z upoštevanjem vseh
omejitev neenakosti in nenegativnosti v splošnem primeru dobimo polieder.

V našem primeru imamo samo dva produkta $X_1$ in $X_2$, zato dobimo za rešitev kar
lik v ravnini. Določite koordinate vseh vrhov oziroma ekstremnih možnosti na tem liku
(tj. oglišča tega lika). Svoj odgovor primerjajte s sliko na naslednji prosojnici, kjer
so oglišča označena z A, B, C in D.

---
<img src="Picture8.png" alt="Slika8" width=400>

Oglišča izvedljivega območja so:
* A: (0,66.67)
* B: (13.33, 57.78)
* C: (48,0)
* D: (0,0)



    </textarea>
    <script src="https://remarkjs.com/downloads/remark-latest.min.js">
    </script>
    <script>
      var slideshow = remark.create();
    </script>
    <script>
      function klik() {
        document.getElementById("na-klik").innerHTML = "Bomo ja!"
      }
    </script>
    <script>
      MathJax = {
        tex: {
          inlineMath: [['$', '$'], ['\\(', '\\)']]
        },
        svg: {
          fontCache: 'global'
        }
      };
    </script>
    <script type="text/javascript" id="MathJax-script" async
      src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
    </script>
  </body>
</html>